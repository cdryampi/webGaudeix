<aside class="p-5">
  <h3>Título del Mapa</h3>
  <div id="map-container" class="my-4" style="height: 60vh; position: relative;">
    <div id="legend-container" class="map-legend">
      <h4>Leyenda</h4>
      <div class="legend-item">
        <div class="legend-color" style="background-color: #FF0000;"></div>
        <span class="legend-label">Restaurantes</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background-color: #00FF00;"></div>
        <span class="legend-label">Hoteles</span>
      </div>
      <!-- Agrega más categorías según tus necesidades -->
    </div>
  </div>
</aside>


<script>
  const mapContainer = document.getElementById('map-container');

  fetch('/map/api/map-points/')
    .then(response => response.json())
    .then(data => {
      const map = new google.maps.Map(mapContainer, {
        center: { lat: 41.123456, lng: 2.987654 },
        zoom: 10
      });

      // Agregar marcadores y categorías
      data.forEach(point => {
        const marker = new google.maps.Marker({
          position: { lat: point.latitud, lng: point.longitud },
          map: map,
          title: point.titulo
        });
      });
    })
    .catch(() => {
      // Mostrar mensaje de error
      mapContainer.innerHTML = '<div class="alert alert-danger">No se pudo cargar el mapa.</div>';
    });
</script>
